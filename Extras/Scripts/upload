#!/bin/bash
# Purpose: Submit iOS, tvOS, and macOS builds using ReleaseTools and push tags.
# Usage: Extras/Scripts/upload

set -euo pipefail

echo " "
echo "**********"
echo "Submitting"
echo "**********"

rt tag

echo " "
echo "**************"
echo "Submitting iOS"
echo "**************"
rt submit --platform=iOS --scheme=ActionStatus

echo " "
echo "***************"
echo "Submitting tvOS"
echo "***************"
rt submit --platform=tvOS --scheme=ActionStatus-tvOS

echo " "
echo "****************"
echo "Submitting macOS"
echo "****************"
rt submit --platform=macOS --scheme=ActionStatus

echo "------------"
echo "Pushing Tags"
echo "------------"
git push --tags --force
